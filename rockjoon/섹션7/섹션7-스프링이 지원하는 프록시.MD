# 섹션7. 스프링이 지원하는 프록시

## 동적 프록시의 문제점

- 인터페이스가 있는 경우에는 JDK 동적 프록시를 적용하고, 그렇지 않은 경우에 CGLIB을 적용하려면?
  - > 스프링 프록시 팩토리
- 두 기술을 함께 사용할 때 부가기능을 만들기 위해서 JDK 동적 프록시와 CGLIB 모두에 기능을 추가해야 할까?
  - > Advice
- 특정 조건에 맞을 때만 프록시를 적용할 수 있을까?
  - > Pointcut

## 스프링 프록시 팩토리
- 스프링에서 제공 하는 프록시
- 내부적으로 인터페이스가 있을 경우 JDK 동적 프록시를 사용, 그렇지 않은 경우 CGLIB 사용
- 스프링 부트에서는 CGLIB만을 사용하여 프록시를 구현한다. 이유는 추후 나올 예정

## Advice
- 부가기능을 추가할 때는 Advice를 구현하면 자동으로 JDK동적 프록시와 CGLIB에 적용됨.

## Pointcut 
- 프록시를 적용할 조건을 적용할 수 있는 객체. 마찬가지로 추상화 되어있다.

## Advisor
- Advice + Pointcut

## 여러 어드바이스 적용하기
- 하나의 타겟에 여러 어드바이스를 적용하기 위해서 프록시를 여러개 만들 필요 없다.
- 하나의 프록시에 여러 어드바이스를 추가할 수 있도록 설계되어 있다.

## 남은 문제
- 너무 많은 설정
  - 결국 적용하고 싶은 빈마다 프록시 생성, 어드바이스/포인트컷 추가를 해줘야 함.
- 컴포넌트 스캔
  - 빈을 수동으로 등록하는 방법이 아니라 컴포넌트 스캔일 경우에는 프록시 의존성을 설정할 수 없다.



